name: Deploy

on:
  push:
    branches: [ "main" ]

jobs:
  build:
    name: Build
    runs-on: rpi-runner
    steps:
    - name: Building appliaction
      run: echo building appliaction 1

  test:
    name: Test
    runs-on: rpi-runner
    needs: build
    steps:
    - name: Test 1
      run: echo Test 1 is running
    - name: Test 2
      run: echo Test 2 is running
    - name: Test 3
      run: echo Test 3 is running

  deploy:
    name: Deploy
    runs-on: rpi-runner
    needs: test
    steps:
      - name: Production
        run: echo deploying app on production server
      - name: Database
        run: echo deploying database on production
      - name: Run
        run: echo running application

